#include <iostream>
#include <ctime>
#include <windows.h>
#include <string>
#include<stdlib.h>
#include <cstdlib>
using namespace std;
int room = 0;
int P1 = 0;
int Computer = 0;
int P2 = 0;
int input;
int num;
string input1;
string input2;
string input3;
int main() {
	srand(time(NULL));
	while (true) {
		switch (room) {
		case 0:
			cout << "Let's Play Rock Paper Scissors game" << endl;
			cout << "Do you want to play with AI (1) or play with another player (2)" << endl;
			cin >> input;
			if (input == 1)
				room = 1;
			else if (input == 2)
				room = 2;
			else {
				cout << "Wrong input, try again" << endl;
				cout << endl;
				room = 0;
			}
		break;
		
		case 1:
			cout << "Getting Ready to versus A.I." << endl;
			cout << endl;
			cout << "Choose Rock, Paper, or Scissors" << endl;
			getline(cin, input1);
			if (input1.compare("Rock") == 0 || input1.compare("rock") == 0)
				P1 = 1;
			else if (input1.compare("Paper") == 0 || input1.compare("paper") == 0)
				P1 = 2;
			else if (input1.compare("Scissors") == 0 || input1.compare("scissors") == 0)
				P1 = 3;
			else {
				cout << "Try Again Wrong Input" << endl;
				room = 1;
			}
			cout << "Now the computer will make a choice" << endl;
			cout << "Waiting..." << endl;
			Sleep(1000);
			cout << "Waiting..." << endl;
			Sleep(1000);
			cout << "Waiting..." << endl;
			Sleep(5000);
			cout << "Waiting..." << endl;
			Sleep(1000);
			cout << "Waiting..." << endl;
			Sleep(2000);
			cout << "Waiting..." << endl;
			Sleep(1000);
			num = rand() % 3 + 1;
			num = rand() % 3 + 1;
			num = rand() % 3 + 1;
			cout << "Computer has made thier choice" << endl;
			cout << "Now click enter to see if you won" << endl;
			system("pause");
			if ((P1 == 1 && Computer == 3) || (P1 == 2 && Computer == 1) || (P1 == 3 && Computer == 2)) {
				cout << "You Win!" << endl;
				system("color a0");
				room = 3; 
			}
			else if ((P1 == 1 && Computer == 1) || (P1 == 2 && Computer == 2) || (P1 == 3 && Computer == 3)) {
				cout << "Tie Game" << endl;
				system("color e0");
				room = 3;
			}
			else {
				cout << "You Lose" << endl;
				system("color C0");
				room = 3;
			}
		break;
		
		case 2:
			cout << "Getting Ready to versus Player 2" << endl;
			cout << endl;
			cout << "Player 2 look away" << endl;
			cout << "Player 1 Chose Rock, Paper, or Scissors" << endl;
			getline(cin, input1);
			if (input1.compare("Rock") == 0 || input1.compare("rock") == 0)
				P1 = 1;
			else if (input1.compare("Paper") == 0 || input1.compare("paper") == 0)
				P1 = 2;
			else if (input1.compare("Scissors") == 0 || input1.compare("scissors") == 0)
				P1 = 3;
			else {
				cout << "Try Again Wrong Input" << endl;
				room = 2;
			}
			system("CLS");
			cout << "Now Player 2, choose Rock, Paper, or Scissors" << endl;
			getline(cin, input2);
			if (input2.compare("Rock") == 0 || input2.compare("rock") == 0)
				P2 = 1;
			else if (input2.compare("Paper") == 0 || input2.compare("paper") == 0)
				P2 = 2;
			else if (input2.compare("Scissors") == 0 || input2.compare("scissors") == 0)
				P2 = 3;
			else {
				cout << "Try Again Wrong Input" << endl;
				room = 2;
			}
			system("CLS");
			cout << "Player 2 has made thier choice" << endl;
			cout << "Now click enter to see who won" << endl;
			system("pause");
			if ((P1 == 1 && P2 == 3) || (P1 == 2 && P2 == 1) || (P1 == 3 && P2 == 2)) {
				cout << "Player 1 Win!" << endl;
				system("color a0");
				room = 3;
			}
			else if ((P1 == 1 && P2 == 1) || (P1 == 2 && P2 == 2) || (P1 == 3 && P2 == 3)) {
				cout << "Tie Game" << endl;
				system("color e0");
				room = 3;
			}
			else {
				cout << "Player 2 win" << endl;
				system("color a0");
				room = 3;
			}

		break;

		case 3:
			cout << "Do you want to play again?" << endl;

			if (input3.compare("Yes") == 0 || input3.compare("yes") == 0 || input3.compare("Y") == 0 || input3.compare("y") == 0)
				room = 0;
			else if (input3.compare("No") == 0 || input3.compare("no") == 0 || input3.compare("N") == 0 || input3.compare("n") == 0)
				exit(0);
			else {
				cout << "Try Again Wrong Input" << endl;
				room = 3;
			}
		break;

		}
	}
}
